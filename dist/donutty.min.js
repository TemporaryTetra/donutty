!function(e,t,i){function n(t){return void 0!==t}function o(t){return parseFloat(t,10)}function r(t){return n(t)&&(!0===t||"true"===t)}var s=t.Donutty=function(t,i){var s=this;t&&"string"==typeof t?s.$wrapper=e.querySelectorAll(t)[0]:t instanceof window.HTMLElement?s.$wrapper=t:(s.$wrapper=e.body,i=t),s.state={},s.options=i||{},s.options.min=n(s.options.min)?o(s.options.min):0,s.options.max=n(s.options.max)?o(s.options.max):100,s.options.value=n(s.options.value)?o(s.options.value):50,s.options.round=!n(s.options.round)||r(s.options.round),s.options.circle=!n(s.options.circle)||r(s.options.circle),s.options.padding=n(s.options.padding)?o(s.options.padding):4,s.options.radius=o(s.options.radius)||50,s.options.thickness=o(s.options.thickness)||10,s.options.bg=s.options.bg||"#ECEFF1",s.options.color=s.options.color||"#7E57C2",s.options.transition=s.options.transition||"all 1.2s cubic-bezier(0.57, 0.13, 0.18, 0.98)",s.init()};s.prototype.init=function(){this.state.min=this.options.min,this.state.max=this.options.max,this.state.value=this.options.value,this.createFragments()},s.prototype.createFragments=function(){var t="http://www.w3.org/2000/svg",i=2*this.options.radius+this.options.thickness+2*this.options.padding,s=this.getDashValues(),o=this.options.round?this.options.thickness/3:0;rotate=this.options.circle?90+o:-225,this.$html=e.createDocumentFragment(),this.$svg=e.createElementNS(t,"svg"),this.$bg=e.createElementNS(t,"circle"),this.$donut=e.createElementNS(t,"circle"),this.$svg.setAttribute("xmlns",t),this.$svg.setAttribute("viewbox","0 0 "+i+" "+i),this.$svg.setAttribute("transform","rotate( "+rotate+" )"),this.$svg.style.width=i,this.$svg.style.height=i,this.$bg.setAttribute("cx","50%"),this.$bg.setAttribute("cy","50%"),this.$bg.setAttribute("r",this.options.radius),this.$bg.setAttribute("fill","transparent"),this.$bg.setAttribute("stroke",this.options.bg),this.$bg.setAttribute("stroke-width",this.options.thickness+this.options.padding),this.$bg.setAttribute("stroke-dasharray",s.full*s.multiplier),this.$donut.setAttribute("fill","transparent"),this.$donut.setAttribute("cx","50%"),this.$donut.setAttribute("cy","50%"),this.$donut.setAttribute("r",this.options.radius),this.$donut.setAttribute("stroke",this.options.color),this.$donut.setAttribute("stroke-width",this.options.thickness),this.$donut.setAttribute("stroke-dashoffset",s.full),this.$donut.setAttribute("stroke-dasharray",s.full),this.$donut.style.opacity=0,this.options.round&&(this.$bg.setAttribute("stroke-linecap","round"),this.$donut.setAttribute("stroke-linecap","round")),this.$svg.appendChild(this.$bg),this.$svg.appendChild(this.$donut),this.$html.appendChild(this.$svg),this.$wrapper.appendChild(this.$html),this.animate(s.fill,s.full)},s.prototype.getDashValues=function(){var t,i,s,o;return o=this.options.circle?1:.75,s=(t=2*Math.PI*this.options.radius)-t*o/100*(i=(this.state.value-this.state.min)/(this.state.max-this.state.min)*100),this.options.round&&this.options.circle&&i<100&&s<this.options.thickness&&(s=this.options.thickness),{fill:s,full:t,multiplier:o}},s.prototype.animate=function(t,i){var s=this;s.$donut.style.transition=this.options.transition,window.requestAnimationFrame(function(){s.$donut.setAttribute("stroke-dashoffset",t),s.$donut.setAttribute("stroke-dasharray",i),s.$donut.style.opacity=1})},s.prototype.setValue=function(t,i){var s;n(t)&&n(i)?this.state[t]=i:this.state.value=t,s=this.getDashValues(),this.animate(s.fill,s.full)},s.prototype.setValues=function(t,i,s){var o;n(t)&&(this.state.value=t),n(i)&&(this.state.min=i),n(s)&&(this.state.max=s),o=this.getDashValues(),this.animate(o.fill,o.full)}}(document,window),function(){var t=document.querySelectorAll("[data-donutty]");Array.prototype.forEach.call(t,function(t){var i=JSON.parse(JSON.stringify(t.dataset)),s=new Donutty(t,i);t.dataset.donutty=s})}();